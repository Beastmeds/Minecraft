<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<title>Voxel Game</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="manifest" href="manifest.json">
<style>
html,body{margin:0;overflow:hidden;background:#000}
#ui{position:fixed;top:10px;left:10px;color:white;font-family:monospace;background:rgba(0,0,0,.6);padding:8px;border-radius:6px}
#touch{position:fixed;right:0;top:0;width:50%;height:100%}
#move{position:fixed;left:20px;bottom:20px}
button{font-size:20px;padding:12px;margin:4px}
</style>
</head>
<body>
<div id="ui">Linksklick / Tap: abbauen<br>Rechtsklick: setzen</div>
<div id="move">
<button ontouchstart="keys.w=true" ontouchend="keys.w=false">▲</button><br>
<button ontouchstart="keys.a=true" ontouchend="keys.a=false">◀</button>
<button ontouchstart="keys.s=true" ontouchend="keys.s=false">▼</button>
<button ontouchstart="keys.d=true" ontouchend="keys.d=false">▶</button>
</div>
<div id="touch"></div>
<script src="https://cdn.jsdelivr.net/npm/three@0.160.0/build/three.min.js"></script>
<script>
const scene=new THREE.Scene();
scene.background=new THREE.Color(0x87ceeb);
const camera=new THREE.PerspectiveCamera(75,innerWidth/innerHeight,0.1,1000);
camera.position.set(8,6,8);
const renderer=new THREE.WebGLRenderer({antialias:true});
renderer.setSize(innerWidth,innerHeight);
document.body.appendChild(renderer.domElement);
scene.add(new THREE.AmbientLight(0xffffff,.6));
const sun=new THREE.DirectionalLight(0xffffff,.8);
sun.position.set(20,40,10);scene.add(sun);
const geo=new THREE.BoxGeometry(1,1,1);
const blocks=[];
function addBlock(x,y,z,c=0x55aa55){
 const b=new THREE.Mesh(geo,new THREE.MeshStandardMaterial({color:c}));
 b.position.set(x,y,z);scene.add(b);blocks.push(b);
}
for(let x=0;x<10;x++)for(let z=0;z<10;z++)addBlock(x,0,z);
const keys={};
let mx=0,my=0;
const touch=document.getElementById("touch");
let lastX,lastY;
touch.addEventListener("touchstart",e=>{
 lastX=e.touches[0].clientX;
 lastY=e.touches[0].clientY;
});
touch.addEventListener("touchmove",e=>{
 const dx=e.touches[0].clientX-lastX;
 const dy=e.touches[0].clientY-lastY;
 lastX=e.touches[0].clientX;
 lastY=e.touches[0].clientY;
 mx-=dx*0.005;
 my-=dy*0.005;
 my=Math.max(-1.5,Math.min(1.5,my));
});
function animate(){
 requestAnimationFrame(animate);
 camera.rotation.y=mx;
 camera.rotation.x=my;
 const dir=new THREE.Vector3();
 camera.getWorldDirection(dir);dir.y=0;dir.normalize();
 if(keys.w)camera.position.add(dir.multiplyScalar(.12));
 if(keys.s)camera.position.add(dir.multiplyScalar(-.12));
 if(keys.a)camera.position.x-=.12;
 if(keys.d)camera.position.x+=.12;
 renderer.render(scene,camera);
}
animate();
</script>
</body>
</html>
